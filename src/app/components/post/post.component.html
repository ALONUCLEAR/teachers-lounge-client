<div class="card">
    <div class="card-header">
        <div class="header-right">
            <div class="d-flex align-items-center gap-1">
                <i *ngIf="canEdit" class="fa-solid fa-pen-to-square clickable" ngbTooltip="עריכת פוסט" placement="left" (click)="onEdit.emit()"></i>
                <i *ngIf="canDelete" class="fa-solid fa-trash clickable" ngbTooltip="מחיקת פוסט" placement="left" (click)="deletePost()"></i>
                <div class="title">{{ post.title }}</div>
            </div>
            <div *ngIf="post.lastUpdatedAt" class="edited">(ערוך)</div>
        </div>
        <div class="header-left">
            <div class="author-name">{{ authorName }}</div>
            <div class="published-at">{{ post.publishedAt | date : 'dd/MM/yyyy HH:mm' : undefined : 'en-IL' }}</div>
        </div>
    </div>
    <div class="card-body">
        <pre>{{ post.body }}</pre>
    </div>
    <div class="card-footer">
        <div class="footer-data">
            <div class="comment-count clickable" ngbTooltip="תגובות" placement="left" (click)="openCommentsView()">
                {{ commentCount }} <i class="fa-regular fa-comment"></i>
            </div>
            <div *ngIf="post.lastUpdatedAt" class="updated-at">נערך לאחרונה ב{{ post.lastUpdatedAt | date : 'dd/MM/yyyy HH:mm' : undefined : 'en-IL' }}</div>
        </div>
        <div *ngIf="mostPopularComment" class="most-popular-comment">{{ mostPopularComment.body }}</div>
    </div>
</div>